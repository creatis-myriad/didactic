# @package _global_

defaults:
  - cardinal/cardiac-multimodal-representation

trainer:
  max_epochs: 2500

excluded_clinical_attrs: ${oc.dict.keys:task.predict_losses}

task:
  predict_losses: ???
  contrastive_loss:
    _target_: vital.metrics.train.metric.NTXent
  contrastive_loss_weight: 0.1
  attrs_dropout: [0.1, 0]
  mtr_p: [ 0.3, 0 ]

hydra:
  run:
    dir: ${oc.env:CARDIAC_MULTIMODAL_REPR_PATH}/cotrain/targets=${oc.dict.keys:task.predict_losses},cotrain=${task.contrastive_loss_weight}/${experiment_dirname}/${hydra.job.override_dirname}
  sweep:
    dir: ${oc.env:CARDIAC_MULTIMODAL_REPR_PATH}/cotrain
    subdir: targets=${oc.dict.keys:task.predict_losses},cotrain=${task.contrastive_loss_weight}/${experiment_dirname}/${hydra.job.override_dirname}
